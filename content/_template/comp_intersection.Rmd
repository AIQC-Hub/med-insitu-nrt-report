```{r, df_matched_dfs, echo = FALSE, message = FALSE, warning = FALSE}
df_nrt_uniq_ids <- get_unique_ids({{df_nrt}})
df_cora_uniq_ids <- get_unique_ids({{df_cora}})

uniq_ids_strict <- get_common_uniq_ids(df_nrt_uniq_ids, df_cora_uniq_ids, uniq_id_strict)
uniq_ids_relexed <- get_common_uniq_ids(df_nrt_uniq_ids, df_cora_uniq_ids, uniq_id_relaxed)

df_nrt_strict <- filter_df_by_common_ids(df_nrt_uniq_ids, uniq_ids_strict)
df_nrt_relaxed <- filter_df_by_common_ids(df_nrt_uniq_ids, uniq_ids_relexed)

```

::: {.panelset}
::: {.panel}

### Strict criteria

#### Detection criteria

 - Platform (`platform_code`)
 - Timestamp (`profile_timestamp`)
 - Truncated longitude (`round(longitude, 3)`)
 - Truncated latitude (`round(latitude, 3)`)
 - Number of observations per profile

#### Counts of matched data

```{r, df_matched_counts1, echo = FALSE, message = FALSE, warning = FALSE}
count_tab <- create_cora_nrt_intersection_tbl(df_nrt_uniq_ids, df_nrt_strict)
kbl_table(count_tab) %>% kable_styling(font_size = 12)
```

:::

::: {.panel}

### Relaxed criteria

#### Detection criteria

 - Platform (`platform_code`)
 - Timestamp (`profile_timestamp`)
 - Truncated longitude (`round(longitude)`)
 - Truncated latitude (`round(latitude)`)

#### Counts of matched data

```{r, df_matched_counts2, echo = FALSE, message = FALSE, warning = FALSE}
count_tab <- create_cora_nrt_intersection_tbl(df_nrt_uniq_ids, df_nrt_relaxed)
kbl_table(count_tab) %>% kable_styling(font_size = 12)
```

:::
:::




